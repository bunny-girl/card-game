import lootData from "../data/loot";import cardData from "../data/card";import eventData from "../data/event";import mapData from "../data/map";import {clone, getId} from "./util";export const createCard = id => {    let _card = clone(cardData.find(c => c.id === id));    _card._id = getId();    return _card;};const pick = arr => {	let sum = 0, choose;	arr.map(item => sum += item.weight);	let decision = Math.random() * sum;	arr.map((item, index) => {		decision -= item.weight;		if(decision <= 0 && !choose){			choose = item;		}	});	return choose;};export const analyseLootPack = id => {	let loot = lootData[id];	let coin = 0, card;	if(loot){		let item = pick(loot) || {};		// let sum = 0, item, choose;		// loot.map(item => sum += item.weight);		// let decision = Math.random() * sum;		// loot.map((l, index) => {		// 	decision -= l.weight;		// 	if(decision <= 0 && !item){		// 		item = l;		// 		choose = index;		// 	}		// });		// item = item || {};		coin = item['coin'] || coin;		if(item['card']){			card = createCard(item['card']['id'])		}	}	return {		coin,		card	}};export const chooseEvent = eventId => {	let events = eventData[eventId], event;	if(events){		event = pick(events);	}	return event;}